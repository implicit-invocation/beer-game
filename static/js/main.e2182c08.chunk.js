(this["webpackJsonpbalancing-game"]=this["webpackJsonpbalancing-game"]||[]).push([[0],{27:function(e,t,n){e.exports=n(28)},28:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),o=n(2),i=n(5),l=(n(30),n(1)),c=n(18),y=n.n(c),u=n(0);(function(){var e=Object(i.a)(a.a.mark((function e(){var t,n,r,i,c,d,f,s,v,h,b,p,w,g,x,S,m,B,G,P,j,O,k,C,I,T,_,A,E,F,L,M,V,D,R,J,N;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("main"),n=document.getElementById("info"),r=document.getElementById("overlay"),i=Object(l.i)(t,1),c=Object(o.a)(i,2),d=c[0],f=c[1],s=10/f*d,v=10,h=t.getContext("webgl"),e.next=8,Object(l.h)(h,"./art/bg.jpg");case 8:return b=e.sent,e.next=11,Object(l.h)(h,"./art/disk.png");case 11:return p=e.sent,e.next=14,Object(l.h)(h,"./art/can-1.png");case 14:return w=e.sent,e.next=17,Object(l.h)(h,"./art/can-2.png");case 17:g=e.sent,x=new u.b2World(new u.b2Vec2(0,10)),S=y()(h),m=Object(l.c)(h),B=Object(l.e)(s,v,d,f),G=new l.a(t),P=function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=new u.b2BodyDef;i.type=u.b2BodyType.b2_dynamicBody,i.position.Set(t,n);var l=e.CreateBody(i),c=new u.b2PolygonShape;return c.SetAsBox(r/2,a/2,new u.b2Vec2(0,0),0),l.CreateFixture(c,o),l},j=function(e,t,n,r){var a=new u.b2BodyDef;a.type=u.b2BodyType.b2_dynamicBody,a.position.Set(t,n);for(var o=e.CreateBody(a),i=new u.b2PolygonShape,l=[],c=0;c<12;c++){var y=new u.b2Vec2(0,r);y.SelfRotate(Math.PI/6*c),l.push(y)}return i.Set(l,12),o.CreateFixture(i,1),o},.2,k=function(e,t,n,r,a){var o=new u.b2BodyDef;o.type=u.b2BodyType.b2_kinematicBody,o.position.Set(t,n);var i=e.CreateBody(o),l=new u.b2PolygonShape;return l.SetAsBox(r/2,a/2,new u.b2Vec2(0,0),0),i.CreateFixture(l,1),i}(x,s/2,2*v/3,O=3*s/4,.2),.3,C=[],I=[],1.2,.6,T=Math.PI/4,_=Math.PI,A=0,E=_,F=!0,L=function(){F=!1;var e=!0,t=!1,n=void 0;try{for(var r,a=C[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var o=r.value;x.DestroyBody(o)}}catch(f){t=!0,n=f}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}C.length=0;var i=!0,l=!1,c=void 0;try{for(var y,u=I[Symbol.iterator]();!(i=(y=u.next()).done);i=!0){var d=y.value;x.DestroyBody(d)}}catch(f){l=!0,c=f}finally{try{i||null==u.return||u.return()}finally{if(l)throw c}}I.length=0,k.SetAngle(0),C.push(j(x,s/2,v/2,.3)),I.push(P(x,2*s/3-.1,v/2,.6,1.2,3)),I.push(P(x,s/2,v/3,.6,1.2,3)),I.push(P(x,s/3+.1,v/2,.6,1.2,3)),I[2].SetAngle(Math.PI/2)},r.addEventListener("click",(function(){L(),r.style.display="none"})),L(),M=new l.b(0,0),V=new l.b(0,0),G.addEventListener("touchStart",(function(e,t){M.set(e,t),B.unprojectVector2(V,M),E=V.x<s/2?-_:_})),document.addEventListener("keydown",(function(e){65===e.which?E=-_:68===e.which&&(E=_)})),document.addEventListener("keyup",(function(){return E=0})),h.clearColor(0,0,0,1),D=[],R=new u.b2Vec2(0,0),J=function(e){if(h.clear(h.COLOR_BUFFER_BIT),!F){var t=!0,n=!1,a=void 0;try{for(var o,i=C[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){if(o.value.GetPosition().y>=v){F=!0;break}}}catch(H){n=!0,a=H}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}var l=!0,c=!1,y=void 0;try{for(var u,d=I[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){if(u.value.GetPosition().y>=v){F=!0;break}}}catch(H){c=!0,y=H}finally{try{l||null==d.return||d.return()}finally{if(c)throw y}}F&&(r.style.display="flex")}F||(A+=E*e,A=Math.max(A,-T),A=Math.min(A,T),k.SetAngularVelocity(A),x.Step(e,8,3)),m.setProjection(B.combined),m.begin(),m.draw(b,0,0,s,v),m.draw(p,k.GetPosition().x-O/2,k.GetPosition().y-.1,O,.2,O/2,.1,k.GetAngle());var f=!0,S=!1,G=void 0;try{for(var P,j=C[Symbol.iterator]();!(f=(P=j.next()).done);f=!0){var _=P.value,L=_.GetPosition();m.draw(w,L.x-.3,L.y-.3,.6,.6,.3,.3,_.GetAngle())}}catch(H){S=!0,G=H}finally{try{f||null==j.return||j.return()}finally{if(S)throw G}}var M=!0,V=!1,D=void 0;try{for(var R,J=I[Symbol.iterator]();!(M=(R=J.next()).done);M=!0){var N=R.value,W=N.GetPosition();m.draw(g,W.x-.3,W.y-.6,.6,1.2,.3,.6,N.GetAngle())}}catch(H){V=!0,D=H}finally{try{M||null==J.return||J.return()}finally{if(V)throw D}}m.end()},function(){for(var e=x.GetBodyList();e;e=e.GetNext())for(var t=e.GetPosition(),n=e.GetFixtureList();n;n=n.GetNext()){var r=n.GetShape();if(r.GetType()===u.b2ShapeType.e_polygonShape){var a=r.m_vertices;D.length=0;var o=!0,i=!1,c=void 0;try{for(var y,d=a[Symbol.iterator]();!(o=(y=d.next()).done);o=!0){var f=y.value;e.GetWorldPoint(f,R),D.push(R.x,R.y)}}catch(s){i=!0,c=s}finally{try{o||null==d.return||d.return()}finally{if(i)throw c}}Object(l.g)(m,S,D,.05,0,0,0)}else r.GetType()===u.b2ShapeType.e_circleShape&&Object(l.f)(m,S,t.x,t.y,r.m_radius,.05,10,0,0,0)}},N=Object(l.d)(J),setInterval((function(){return n.innerHTML="FPS: ".concat(Math.round(N.getFps()))}),1e3);case 54:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},30:function(e,t,n){}},[[27,1,2]]]);
//# sourceMappingURL=main.e2182c08.chunk.js.map